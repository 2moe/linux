<!DOCTYPE html>
<html>

<head>
  <script type="text/javascript">
    const language = navigator.language || navigator.languages[0]
    const lang_slice = language.slice(0, 2).toLowerCase()

    let lang

    const match_zh = () => {
      const slice = language.slice(-2).toUpperCase()
      switch (slice) {
        case "HK":
        case "TW":
          return `zh-${slice}`
        default:
          return "zh"
      }
    }

    switch (lang_slice) {
      case "zh":
        lang = match_zh()
        break
      case "de":
      case "es":
      case "ja":
      case "fr":
      case "it":
      case "ko":
      case "ru":
      case "id":
      case "pl":
      case "pt":
      case "cs":
        lang = lang_slice
        break
      default:
        lang = "en"
        break
    }

    const new_url = `${window.location.origin}/${lang}/prologue.html`
    window.location.replace(new_url)
  </script>
</head>

</html>